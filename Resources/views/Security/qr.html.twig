{% extends '@MauticUser/Security/base.html.twig' %}

{% block header %}
    {% trans %}mautic.twofactor.security.title{% endtrans %}
{% endblock %}

{% block headerTitle %}
    {% trans %}mautic.twofactor.setup.qr_title{% endtrans %}
{% endblock %}

{% block content %}
    <style>
        .twofactor-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .twofactor-card {
            max-width: 480px;
            width: 100%;
        }

        .qr-box img {
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            border: 2px dashed rgba(0, 0, 0, 0.08);
            padding: 0.5rem;
            background: #fff;
        }
    </style>

    <div class="twofactor-wrapper">
        <div class="card shadow-sm border-0 p-4 twofactor-card text-center">

            <span class="text-muted medium text-uppercase fw-bold">
                {{ 'mautic.twofactor.qrsetup.step_two'|trans }}
            </span>

            <h3 class="fw-bold mb-2">{{ 'mautic.twofactor.setup.qr_title'|trans }}</h3>

            <p class="text-muted medium mb-4">
                {{ 'mautic.twofactor.setup.instructions'|trans }}
            </p>

            <div class="qr-box mx-auto mb-4">
                <img src="{{ qrCodeUrl }}" alt="{{ 'mautic.twofactor.setup.qr_label'|trans }}">
            </div>

            <p class="text-muted medium mb-4">
                {{ 'mautic.twofactor.setup.scan_hint'|trans({'%userId%': user.id}) }}
            </p>

            <div class="d-grid">
                <a href="{{ path('mautic_twofactor_verify') }}" class="btn btn-primary btn-lg">
                    {{ 'mautic.twofactor.setup.continue_button'|trans }}
                </a>
            </div>
        </div>
    </div>
{% endblock %}
